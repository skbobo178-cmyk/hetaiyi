<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Toolkit - Everyday Tools</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #1a1a2e; color: #eee; min-height: 100vh; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; }
        h1 { text-align: center; margin-bottom: 30px; color: #00d4ff; }
        .tools { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px; }
        .tool-btn { background: #16213e; border: 2px solid #0f3460; padding: 20px; border-radius: 10px; cursor: pointer; text-align: center; transition: all 0.3s; }
        .tool-btn:hover { background: #0f3460; border-color: #00d4ff; transform: translateY(-3px); }
        .tool-btn.active { background: #0f3460; border-color: #00d4ff; }
        .tool-btn h3 { color: #00d4ff; margin-bottom: 5px; }
        .tool-btn p { font-size: 12px; color: #888; }
        .tool-panel { display: none; background: #16213e; padding: 25px; border-radius: 10px; margin-bottom: 20px; }
        .tool-panel.active { display: block; }
        textarea, input[type="text"] { width: 100%; padding: 12px; background: #0f0f23; border: 1px solid #333; border-radius: 8px; color: #fff; font-family: monospace; font-size: 14px; margin-bottom: 10px; }
        textarea { min-height: 120px; resize: vertical; }
        button.action { background: #00d4ff; color: #1a1a2e; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: bold; margin-right: 10px; margin-bottom: 10px; }
        button.action:hover { background: #00b8e6; }
        button.action.secondary { background: #333; color: #fff; }
        .result { background: #0f0f23; padding: 15px; border-radius: 8px; margin-top: 15px; word-break: break-all; }
        .result-label { color: #00d4ff; margin-bottom: 8px; font-size: 12px; }
        .copy-btn { background: #333; color: #fff; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; font-size: 12px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üõ†Ô∏è Web Toolkit</h1>
        
        <div class="tools">
            <div class="tool-btn active" onclick="showTool('url')">
                <h3>üîó URL Cleaner</h3>
                <p>Remove tracking params</p>
            </div>
            <div class="tool-btn" onclick="showTool('base64')">
                <h3>üñºÔ∏è Image to Base64</h3>
                <p>Convert images to code</p>
            </div>
            <div class="tool-btn" onclick="showTool('json')">
                <h3>üìã JSON Formatter</h3>
                <p>Pretty print JSON</p>
            </div>
            <div class="tool-btn" onclick="showTool('timestamp')">
                <h3>‚è∞ Timestamp</h3>
                <p>Convert time formats</p>
            </div>
            <div class="tool-btn" onclick="showTool('color')">
                <h3>üé® Color Converter</h3>
                <p>HEX/RGB/HSL</p>
            </div>
            <div class="tool-btn" onclick="showTool('qr')">
                <h3>üì± QR Code</h3>
                <p>Generate QR codes</p>
            </div>
        </div>

        <!-- URL Cleaner -->
        <div id="url" class="tool-panel active">
            <h3>üîó URL Cleaner</h3>
            <textarea id="url-input" placeholder="Paste URL here..."></textarea>
            <button class="action" onclick="cleanUrl()">Clean URL</button>
            <button class="action secondary" onclick="document.getElementById('url-input').value=''">Clear</button>
            <div class="result" id="url-result" style="display:none">
                <div class="result-label">Cleaned URL:</div>
                <span id="url-output"></span>
            </div>
        </div>

        <!-- Base64 -->
        <div id="base64" class="tool-panel">
            <h3>üñºÔ∏è Image to Base64</h3>
            <input type="file" id="base64-file" accept="image/*" onchange="imgToBase64()">
            <div class="result" id="base64-result" style="display:none">
                <div class="result-label">Base64 (copy for HTML):</div>
                <textarea id="base64-output" readonly></textarea>
                <button class="action" onclick="copyToClipboard('base64-output')">Copy</button>
            </div>
        </div>

        <!-- JSON Formatter -->
        <div id="json" class="tool-panel">
            <h3>üìã JSON Formatter</h3>
            <textarea id="json-input" placeholder="Paste JSON here..."></textarea>
            <button class="action" onclick="formatJson()">Format</button>
            <button class="action" onclick="minifyJson()">Minify</button>
            <div class="result" id="json-result" style="display:none">
                <div class="result-label">Result:</div>
                <textarea id="json-output" readonly></textarea>
                <button class="action" onclick="copyToClipboard('json-output')">Copy</button>
            </div>
        </div>

        <!-- Timestamp -->
        <div id="timestamp" class="tool-panel">
            <h3>‚è∞ Timestamp Converter</h3>
            <input type="text" id="ts-input" placeholder="Enter timestamp or date...">
            <button class="action" onclick="convertTimestamp()">Convert</button>
            <div class="result" id="ts-result" style="display:none">
                <div class="result-label">Results:</div>
                <div id="ts-output"></div>
            </div>
        </div>

        <!-- Color Converter -->
        <div id="color" class="tool-panel">
            <h3>üé® Color Converter</h3>
            <input type="text" id="color-input" placeholder="#00d4ff or rgb(0,212,255)" value="#00d4ff">
            <button class="action" onclick="convertColor()">Convert</button>
            <div class="result" id="color-result" style="display:none">
                <div class="result-label">Results:</div>
                <div id="color-output"></div>
            </div>
        </div>

        <!-- QR Code -->
        <div id="qr" class="tool-panel">
            <h3>üì± QR Code Generator</h3>
            <textarea id="qr-input" placeholder="Enter text or URL..."></textarea>
            <button class="action" onclick="generateQR()">Generate QR</button>
            <div class="result" id="qr-result" style="display:none">
                <div class="result-label">QR Code:</div>
                <img id="qr-image" style="max-width: 200px; margin: 10px 0;">
                <br>
                <button class="action" onclick="downloadQR()">Download</button>
            </div>
        </div>
    </div>

    <script>
        // Track params to remove
        const paramsToRemove = ['utm_source', 'utm_medium', 'utm_campaign', 'utm_term', 'utm_content', 
            'gclid', 'fbclid', 'ttclid', 'yclid', '_ga', 'mc_cid', 'mc_eid', 'si', 'igshid'];

        function showTool(id) {
            document.querySelectorAll('.tool-panel').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.tool-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            event.target.closest('.tool-btn').classList.add('active');
        }

        // URL Cleaner
        function cleanUrl() {
            const input = document.getElementById('url-input').value.trim();
            if (!input) return;
            try {
                const url = new URL(input);
                paramsToRemove.forEach(p => url.searchParams.delete(p));
                document.getElementById('url-output').textContent = url.toString();
                document.getElementById('url-result').style.display = 'block';
            } catch(e) {
                alert('Invalid URL');
            }
        }

        // Image to Base64
        function imgToBase64() {
            const file = document.getElementById('base64-file').files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById('base64-output').value = e.target.result;
                document.getElementById('base64-result').style.display = 'block';
            };
            reader.readAsDataURL(file);
        }

        // JSON Formatter
        function formatJson() {
            const input = document.getElementById('json-input').value;
            try {
                const obj = JSON.parse(input);
                document.getElementById('json-output').value = JSON.stringify(obj, null, 2);
                document.getElementById('json-result').style.display = 'block';
            } catch(e) {
                alert('Invalid JSON: ' + e.message);
            }
        }

        function minifyJson() {
            const input = document.getElementById('json-input').value;
            try {
                const obj = JSON.parse(input);
                document.getElementById('json-output').value = JSON.stringify(obj);
                document.getElementById('json-result').style.display = 'block';
            } catch(e) {
                alert('Invalid JSON: ' + e.message);
            }
        }

        // Timestamp Converter
        function convertTimestamp() {
            const input = document.getElementById('ts-input').value.trim();
            let output = '';
            
            // Try as timestamp
            if (/^\d+$/.test(input)) {
                const date = new Date(parseInt(input));
                output = `Unix: ${input}<br>Local: ${date.toLocaleString()}<br>UTC: ${date.toUTCString()}`;
            } else {
                const date = new Date(input);
                if (!isNaN(date.getTime())) {
                    output = `Unix: ${Math.floor(date.getTime()/1000)}<br>Local: ${date.toLocaleString()}<br>UTC: ${date.toUTCString()}`;
                } else {
                    output = 'Invalid date';
                }
            }
            document.getElementById('ts-output').innerHTML = output;
            document.getElementById('ts-result').style.display = 'block';
        }

        // Color Converter
        function convertColor() {
            const input = document.getElementById('color-input').value.trim();
            let hex = input;
            
            // Parse color
            if (input.startsWith('rgb')) {
                const match = input.match(/(\d+),\s*(\d+),\s*(\d+)/);
                if (match) {
                    hex = '#' + [match[1], match[2], match[3]].map(x => parseInt(x).toString(16).padStart(2, '0')).join('');
                }
            }
            
            // Convert to RGB
            const r = parseInt(hex.slice(1,3), 16);
            const g = parseInt(hex.slice(3,5), 16);
            const b = parseInt(hex.slice(5,7), 16);
            
            document.getElementById('color-output').innerHTML = `
                <strong>HEX:</strong> ${hex}<br>
                <strong>RGB:</strong> rgb(${r}, ${g}, ${b})<br>
                <div style="width:100px;height:30px;background:${hex};margin-top:10px;border-radius:4px;"></div>
            `;
            document.getElementById('color-result').style.display = 'block';
        }

        // QR Code (using API)
        function generateQR() {
            const text = document.getElementById('qr-input').value;
            if (!text) return;
            const api = 'https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=' + encodeURIComponent(text);
            document.getElementById('qr-image').src = api;
            document.getElementById('qr-result').style.display = 'block';
        }

        function downloadQR() {
            const link = document.createElement('a');
            link.download = 'qrcode.png';
            link.href = document.getElementById('qr-image').src;
            link.click();
        }

        function copyToClipboard(id) {
            const el = document.getElementById(id);
            el.select();
            document.execCommand('copy');
            alert('Copied!');
        }
    </script>
</body>
</html>

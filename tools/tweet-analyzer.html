<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tweet Analyzer - Engagement Predictor</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            padding: 20px;
            color: #fff;
        }
        .container { max-width: 900px; margin: 0 auto; }
        h1 { text-align: center; margin-bottom: 10px; font-size: 1.8rem; }
        .subtitle { text-align: center; color: #a0a0a0; margin-bottom: 25px; }
        
        .card {
            background: rgba(255,255,255,0.1);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }
        
        label { display: block; margin-bottom: 8px; font-weight: 600; color: #a0a0a0; }
        textarea {
            width: 100%;
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            padding: 12px;
            color: #fff;
            font-size: 14px;
            min-height: 120px;
            margin-bottom: 15px;
        }
        textarea:focus { outline: none; border-color: #4ecdc4; }
        
        .btn-group { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 10px; }
        button {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        .btn-primary { background: #4ecdc4; color: #1a1a2e; }
        .btn-primary:hover { background: #3dbdb5; }
        .btn-secondary { background: rgba(255,255,255,0.1); color: #fff; }
        .btn-secondary:hover { background: rgba(255,255,255,0.2); }
        
        .score-card {
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
        }
        .score-number {
            font-size: 4rem;
            font-weight: bold;
            background: linear-gradient(135deg, #4ecdc4, #44a08d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .score-label { color: #a0a0a0; font-size: 14px; }
        .score-grade {
            display: inline-block;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 18px;
            font-weight: bold;
            margin-top: 10px;
        }
        
        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .metric {
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }
        .metric-value { font-size: 1.5rem; font-weight: bold; color: #4ecdc4; }
        .metric-label { font-size: 12px; color: #a0a0a0; margin-top: 5px; }
        
        .tips {
            background: rgba(78, 205, 196, 0.1);
            border-radius: 10px;
            padding: 15px;
        }
        .tips h4 { color: #4ecdc4; margin-bottom: 10px; }
        .tips ul { padding-left: 20px; }
        .tips li { margin-bottom: 8px; color: #ccc; font-size: 14px; }
        
        .check-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .check-item:last-child { border-bottom: none; }
        .check-icon { font-size: 18px; }
        .check-icon.good { color: #4ecdc4; }
        .check-icon.bad { color: #ff6b6b; }
        
        .viral-factors {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }
        .factor {
            padding: 6px 12px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            font-size: 13px;
        }
        .factor.active { background: rgba(78, 205, 196, 0.3); color: #4ecdc4; }
        
        .emoji-analysis {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin: 10px 0;
        }
        .emoji-count { font-size: 1.2rem; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìä Tweet Analyzer</h1>
        <p class="subtitle">Predict engagement & get improvement tips</p>
        
        <div class="card">
            <label>Paste your tweet here:</label>
            <textarea id="tweetInput" placeholder="Write or paste your tweet to analyze..." oninput="analyzeTweet()"></textarea>
            
            <div class="btn-group">
                <button class="btn-primary" onclick="analyzeTweet()">Analyze Tweet</button>
                <button class="btn-secondary" onclick="clearAll()">Clear</button>
            </div>
        </div>
        
        <div class="card" id="results" style="display: none;">
            <div class="score-card">
                <div class="score-number" id="engagementScore">0</div>
                <div class="score-label">Engagement Score</div>
                <div class="score-grade" id="scoreGrade">-</div>
            </div>
            
            <div class="metrics">
                <div class="metric">
                    <div class="metric-value" id="charCount">0</div>
                    <div class="metric-label">Characters</div>
                </div>
                <div class="metric">
                    <div class="metric-value" id="wordCount">0</div>
                    <div class="metric-label">Words</div>
                </div>
                <div class="metric">
                    <div class="metric-value" id="emojiCount">0</div>
                    <div class="metric-label">Emojis</div>
                </div>
                <div class="metric">
                    <div class="metric-value" id="hashtagCount">0</div>
                    <div class="metric-label">Hashtags</div>
                </div>
                <div class="metric">
                    <div class="metric-value" id="mentionCount">0</div>
                    <div class="metric-label">Mentions</div>
                </div>
                <div class="metric">
                    <div class="metric-value" id="readTime">0s</div>
                    <div class="metric-label">Read Time</div>
                </div>
            </div>
            
            <div class="tips">
                <h4>‚úÖ What Works</h4>
                <div id="goodChecks"></div>
            </div>
            
            <div class="tips" style="margin-top: 15px;">
                <h4>üí° Improvement Tips</h4>
                <div id="badChecks"></div>
            </div>
            
            <div class="tips" style="margin-top: 15px;">
                <h4>üéØ Viral Factors Detected</h4>
                <div class="viral-factors" id="viralFactors"></div>
            </div>
        </div>
        
        <div class="card">
            <h4>üìù Quick Tips for High Engagement</h4>
            <ul style="padding-left: 20px; color: #ccc; line-height: 1.8;">
                <li><strong>Hook in first 50 chars</strong> - Most people only see the preview</li>
                <li><strong>Use 1-2 relevant hashtags</strong> - More than 3 can look spammy</li>
                <li><strong>Add 1-3 emojis</strong> - Visual break increases engagement</li>
                <li><strong>Ask a question</strong> - Questions spark replies</li>
                <li><strong>Add a CTA</strong> - "Retweet if..." or "Follow for more"</li>
                <li><strong>Keep under 200 chars</strong> - Longer tweets get less engagement</li>
                <li><strong>Use thread for long content</strong> - Better for detailed topics</li>
            </ul>
        </div>
    </div>

    <script>
        function analyzeTweet() {
            const text = document.getElementById('tweetInput').value;
            if (!text.trim()) {
                document.getElementById('results').style.display = 'none';
                return;
            }
            
            document.getElementById('results').style.display = 'block';
            
            // Basic metrics
            const charCount = text.length;
            const wordCount = text.split(/\s+/).filter(w => w).length;
            const emojiRegex = /[\u{1F300}-\u{1F9FF}]|[\u{1F600}-\u{1F64F}]|[\u{1F680}-\u{1F6FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]/gu;
            const emojis = text.match(emojiRegex) || [];
            const hashtagCount = (text.match(/#[a-zA-Z0-9_]+/g) || []).length;
            const mentionCount = (text.match(/@[a-zA-Z0-9_]+/g) || []).length;
            const readTime = Math.ceil(charCount / 5); // ~5 chars per second
            
            document.getElementById('charCount').textContent = charCount;
            document.getElementById('wordCount').textContent = wordCount;
            document.getElementById('emojiCount').textContent = emojis.length;
            document.getElementById('hashtagCount').textContent = hashtagCount;
            document.getElementById('mentionCount').textContent = mentionCount;
            document.getElementById('readTime').textContent = readTime + 's';
            
            // Scoring
            let score = 50; // Base score
            
            // Character scoring
            if (charCount >= 50 && charCount <= 200) score += 15;
            else if (charCount > 200 && charCount <= 280) score += 10;
            else if (charCount < 50) score -= 10;
            
            // Emoji scoring
            if (emojis.length >= 1 && emojis.length <= 3) score += 10;
            else if (emojis.length > 5) score -= 5;
            
            // Hashtag scoring
            if (hashtagCount >= 1 && hashtagCount <= 2) score += 10;
            else if (hashtagCount > 3) score -= 10;
            
            // Question scoring
            if (text.includes('?')) score += 10;
            
            // CTA scoring
            const ctas = ['retweet', 'follow', 'like', 'share', 'save', 'link in bio', 'üëá', 'üîΩ'];
            if (ctas.some(cta => text.toLowerCase().includes(cta))) score += 10;
            
            // First char hook
            const firstChars = text.substring(0, 50).toLowerCase();
            const hooks = ['üßµ', 'üî•', 'üí°', 'üìñ', 'üëÄ', 'wait', 'how', 'why', 'what', 'secret', 'truth'];
            if (hooks.some(hook => firstChars.startsWith(hook) || firstChars.includes(hook))) score += 10;
            
            // Number scoring
            if (/\d+/.test(text)) score += 5;
            
            // Caps scoring
            const capsRatio = (text.match(/[A-Z]/g) || []).length / charCount;
            if (capsRatio > 0.3) score -= 10;
            
            // URL scoring
            if (text.includes('http')) score += 5;
            
            // Clamp score
            score = Math.max(0, Math.min(100, score));
            
            // Display score
            document.getElementById('engagementScore').textContent = score;
            
            let grade, gradeColor;
            if (score >= 80) { grade = 'üî• Viral Potential'; gradeColor = 'rgba(78, 205, 196, 0.3)'; }
            else if (score >= 60) { grade = '‚≠ê Good'; gradeColor = 'rgba(78, 205, 196, 0.2)'; }
            else if (score >= 40) { grade = '‚ö†Ô∏è Average'; gradeColor = 'rgba(255, 193, 7, 0.2)'; }
            else { grade = '‚ùå Needs Work'; gradeColor = 'rgba(255, 107, 107, 0.2)'; }
            
            const gradeEl = document.getElementById('scoreGrade');
            gradeEl.textContent = grade;
            gradeEl.style.background = gradeColor;
            
            // Good checks
            let goodChecks = '';
            if (charCount >= 50 && charCount <= 280) goodChecks += '<div class="check-item"><span class="check-icon good">‚úì</span> Good length</div>';
            if (emojis.length >= 1 && emojis.length <= 3) goodChecks += '<div class="check-item"><span class="check-icon good">‚úì</span> Good use of emojis</div>';
            if (hashtagCount >= 1 && hashtagCount <= 2) goodChecks += '<div class="check-item"><span class="check-icon good">‚úì</span> Optimal hashtag count</div>';
            if (text.includes('?')) goodChecks += '<div class="check-item"><span class="check-icon good">‚úì</span> Includes a question</div>';
            if (ctas.some(cta => text.toLowerCase().includes(cta))) goodChecks += '<div class="check-item"><span class="check-icon good">‚úì</span> Has call-to-action</div>';
            if (/\d+/.test(text)) goodChecks += '<div class="check-item"><span class="check-icon good">‚úì</span> Includes numbers</div>';
            
            document.getElementById('goodChecks').innerHTML = goodChecks || '<div class="check-item"><span class="check-icon">-</span> Keep writing to see tips</div>';
            
            // Bad checks
            let badChecks = '';
            if (charCount > 280) badChecks += '<div class="check-item"><span class="check-icon bad">‚úó</span> Tweet is too long</div>';
            if (charCount < 50) badChecks += '<div class="check-item"><span class="check-icon bad">‚úó</span> Too short to engage</div>';
            if (hashtagCount > 3) badChecks += '<div class="check-item"><span class="check-icon bad">‚úó</span> Too many hashtags</div>';
            if (emojis.length > 5) badChecks += '<div class="check-item"><span class="check-icon bad">‚úó</span> Too many emojis</div>';
            if (capsRatio > 0.3) badChecks += '<div class="check-item"><span class="check-icon bad">‚úó</span> Too many caps</div>';
            if (!text.includes('?') && !ctas.some(cta => text.toLowerCase().includes(cta))) badChecks += '<div class="check-item"><span class="check-icon bad">‚úó</span> Add a question or CTA</div>';
            if (emojis.length === 0) badChecks += '<div class="check-item"><span class="check-icon bad">‚úó</span> Add some emojis</div>';
            
            document.getElementById('badChecks').innerHTML = badChecks || '<div class="check-item"><span class="check-icon good">‚úì</span> Looking good!</div>';
            
            // Viral factors
            let viralFactors = [];
            if (text.startsWith('üßµ')) viralFactors.push({text: 'Thread starter', active: true});
            if (text.startsWith('üî•') || text.startsWith('üí°')) viralFactors.push({text: 'Hook emoji', active: true});
            if (text.toLowerCase().includes('secret')) viralFactors.push({text: 'Secret/Exclusive', active: true});
            if (text.toLowerCase().includes('wait for')) viralFactors.push({text: 'Curiosity gap', active: true});
            if (/\d+/.test(text)) viralFactors.push({text: 'Numbers/List', active: true});
            if (text.toLowerCase().includes('opinion') || text.toLowerCase().includes('controversial')) viralFactors.push({text: 'Controversial take', active: true});
            if (text.toLowerCase().includes('save') || text.toLowerCase().includes('bookmark')) viralFactors.push({text: 'Saveable content', active: true});
            if (text.toLowerCase().includes('link')) viralFactors.push({text: 'External link', active: true});
            
            const factorsEl = document.getElementById('viralFactors');
            if (viralFactors.length === 0) {
                factorsEl.innerHTML = '<span style="color: #a0a0a0;">Add viral elements like hooks, numbers, or CTAs</span>';
            } else {
                factorsEl.innerHTML = viralFactors.map(f => 
                    `<span class="factor ${f.active ? 'active' : ''}">${f.text}</span>`
                ).join('');
            }
        }
        
        function clearAll() {
            document.getElementById('tweetInput').value = '';
            document.getElementById('results').style.display = 'none';
        }
    </script>
</body>
</html>